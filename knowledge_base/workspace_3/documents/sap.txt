SAP Data Ingestion Standard: Bank Account Transaction1. Introduction1.1 PurposeThis document defines the standard structure, format, and ingestion methodology for providing Bank Account Transaction data from a Source System (e.g., Core Banking System) to the SAP Financial Services Data Platform (FSDP/FSDM/FS-BA) for purposes including Accounting, Risk Management, and Regulatory Reporting.1.2 ScopeThis standard applies to all transactional data representing movements (debits/credits) on a current account, savings account, or other liability account managed by the bank.1.3 Target SAP SystemSolution: SAP Financial Services Data Management (FSDM) / SAP Bank Analyzer (FS-BA)Component: Source Data Layer (SDL)Primary Business Object: Business Transaction (BT)2. Data Model SpecificationThe ingestion data must map directly to key entities within the SAP FSDM/FS-BA data model to ensure a "Single Source of Truth" and bi-temporal consistency.2.1 Core EntitiesThe Bank Account Transaction ingestion process primarily involves the following core entities:SAP FSDM/FS-BA EntityDescriptionMapping TypeBusiness Transaction (BT)The core event entity representing the transaction (e.g., 'Deposit', 'Withdrawal').PrimaryFinancial ContractThe account (e.g., Current Account) against which the BT is posted.Reference (Master Data)Business PartnerThe customer or counterparty associated with the BT.Reference (Master Data)Business Transaction ItemThe line items/flows of the transaction (e.g., Principal flow, Fee flow).Dependent2.2 Business Transaction (BT) Fields - Target StructureThe following fields represent the required structure for the Business Transaction data object in the Source Data Layer (SDL).Field Name (SAP)Data TypeRequiredDescription / Source Mapping NoteBT_IDCHAR 32YesUnique identifier of the transaction in the Source System.FINANCIAL_CONTRACT_IDCHAR 32YesThe ID of the bank account (Financial Contract).BUS_PARTNER_IDCHAR 32YesThe ID of the main account holder (Business Partner).VALUATION_DATEDATEYesThe date on which the transaction is valid for accounting/risk purposes.DOC_DATEDATEYesThe date the source document (e.g., payment order) was created.POSTING_DATEDATEYesThe date the transaction was posted in the core system.TRANSACTION_TYPE_CODECHAR 4YesSAP-defined code (e.g., DEP1 for Customer Deposit, WDR1 for ATM Withdrawal).CURRENCY_CODECHAR 3YesTransaction currency (e.g., EUR, USD).FLOW_STATUS_CODECHAR 4YesIndicates the state (e.g., POSTED, REVERSED).TEXTCHAR 40NoShort description from the source system.2.3 Business Transaction Item Fields - Target StructureThis structure records the monetary value and flow type for each line item within the main Business Transaction.Field Name (SAP)Data TypeRequiredDescription / Source Mapping NoteBT_ITEM_IDCHAR 32YesUnique ID for the item (e.g., BT_ID + sequential number).BT_IDCHAR 32YesForeign key to the parent Business Transaction.FLOW_TYPE_CODECHAR 4YesSAP-defined flow type (e.g., 4010 for Principal Increase, 4020 for Principal Decrease, 2100 for Fee).AMOUNTDEC 23,7YesThe monetary amount of the flow.CREDIT_DEBIT_CODECHAR 1YesC (Credit/Increase) or D (Debit/Decrease).3. Sample Ingestion Payload (XML Format)Data ingestion is typically performed via an interface (e.g., SAP HANA Smart Data Integration, SAP Data Services, or XML/IDoc) to the SAP system. The following is a sample XML structure representing a simple $500.00 Customer Deposit.Note: The actual ingestion format will depend on the middleware (e.g., a flattened CSV or a structured JSON/XML). This example uses a simplified XML for clarity.XML<BusinessTransaction_Collection>
  <BusinessTransaction>
    <BT_ID>TXN_C20251209_001</BT_ID>
    <FINANCIAL_CONTRACT_ID>ACC_1000000123</FINANCIAL_CONTRACT_ID>
    <BUS_PARTNER_ID>BP_456789</BUS_PARTNER_ID>
    <VALUATION_DATE>2025-12-09</VALUATION_DATE>
    <DOC_DATE>2025-12-09</DOC_DATE>
    <POSTING_DATE>2025-12-09</POSTING_DATE>
    <TRANSACTION_TYPE_CODE>DEP1</TRANSACTION_TYPE_CODE>
    <CURRENCY_CODE>USD</CURRENCY_CODE>
    <FLOW_STATUS_CODE>POSTED</FLOW_STATUS_CODE>
    <TEXT>Customer Deposit via Teller</TEXT>

    <BT_Item_Collection>
      <BT_Item>
        <BT_ITEM_ID>TXN_C20251209_001_P01</BT_ITEM_ID>
        <FLOW_TYPE_CODE>4010</FLOW_TYPE_CODE> <AMOUNT>500.00</AMOUNT>
        <CREDIT_DEBIT_CODE>C</CREDIT_DEBIT_CODE>
      </BT_Item>
      </BT_Item_Collection>
  </BusinessTransaction>
</BusinessTransaction_Collection>
4. Ingestion Process & Controls4.1 Integration TechnologyThe preferred method for data transfer to the SAP system is via SAP Landscape Transformation (SLT) or SAP Data Services for batch loads, and SAP Business Technology Platform (BTP) Integration Suite for real-time streaming, targeting the specific write interfaces of SAP FSDM/FS-BA.4.2 Data Validation RulesBefore data is accepted into the Source Data Layer, the following validation steps must be enforced:Mandatory Field Check: All fields marked as 'Yes' in the "Required" column (e.g., BT_ID, FINANCIAL_CONTRACT_ID, AMOUNT) must contain a value.Date Format Validation: All date fields must conform to the SAP required format (YYYY-MM-DD).Reference Data Check: The provided FINANCIAL_CONTRACT_ID and BUS_PARTNER_ID must exist as active Master Data records in the SAP system before the transaction is loaded.Flow Type Consistency: The TRANSACTION_TYPE_CODE must logically align with the FLOW_TYPE_CODE and CREDIT_DEBIT_CODE (e.g., a "Withdrawal" transaction must contain at least one item with a 'Debit' principal flow).Bi-Temporal Check: The VALUATION_DATE must be greater than or equal to the inception date of the referenced Financial Contract.4.3 Error HandlingAny records failing the validation rules will be rejected and logged in an Error Staging Table in the SAP system, along with the specific error message (e.g., "Error 001: Missing FINANCIAL_CONTRACT_ID"). Rejected records must be corrected in the Source System and re-submitted in a subsequent load.

